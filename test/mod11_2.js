'use strict';
const assert = require('assert').strict;
const common = require('./common');
const algo = require('..').mod11_2;

describe('ISO/IEC 7064, MOD 11-2 algorithm', () => {
  // {{{ List sample strings
  const valid = [
    ['0011757177482476', '001175717748247', '6'],
    ['7476336', '747633', '6'],
    ['7344045298056080', '734404529805608', '0'],
    ['418129259', '41812925', '9'],
    ['986596515101003X', '986596515101003', 'X'],
    ['1778043904', '177804390', '4'],
    ['8999526', '899952', '6'],
    ['82001070289436', '8200107028943', '6'],
    ['65834910862726', '6583491086272', '6'],
    ['1183444155021', '118344415502', '1'],
    ['9825464', '982546', '4'],
    ['0001945859', '000194585', '9'],
    ['82703512512057X', '82703512512057', 'X'],
    ['43386', '4338', '6'],
    ['0077631611488', '007763161148', '8'],
    ['7908303594550', '790830359455', '0'],
    ['47317222700', '4731722270', '0'],
    ['0000884866190340', '000088486619034', '0'],
    ['40274887937', '4027488793', '7'],
    ['18308', '1830', '8'],
    ['40148510', '4014851', '0'],
    ['4312344506', '431234450', '6'],
    ['814264171763X', '814264171763', 'X'],
    ['49676608298713', '4967660829871', '3'],
    ['4839331627035', '483933162703', '5'],
    ['4732355148X', '4732355148', 'X'],
    ['164966998536', '16496699853', '6'],
    ['44925710798', '4492571079', '8'],
    ['8388X', '8388', 'X'],
    ['74072194943', '7407219494', '3'],
    ['845546775241', '84554677524', '1'],
    ['00488444211', '0048844421', '1'],
    ['0455276', '045527', '6'],
    ['007426109245830', '00742610924583', '0'],
    ['0023680363843', '002368036384', '3'],
    ['84000361124402', '8400036112440', '2'],
    ['6721029', '672102', '9'],
    ['2204368106', '220436810', '6'],
    ['7580440350732', '758044035073', '2'],
    ['3382949X', '3382949', 'X'],
    ['1776377783', '177637778', '3'],
    ['89907', '8990', '7'],
    ['3721781955829', '372178195582', '9'],
    ['29031', '2903', '1'],
    ['671881018208', '67188101820', '8'],
    ['009595345834', '00959534583', '4'],
    ['001247346528086750', '00124734652808675', '0'],
    ['4363306630', '436330663', '0'],
    ['3544266013146', '354426601314', '6'],
    ['3180133998', '318013399', '8'],
    ['635226408666477', '63522640866647', '7'],
    ['93355106645189', '9335510664518', '9'],
    ['151475', '15147', '5'],
    ['000057892695714', '00005789269571', '4'],
    ['0088102296842119', '008810229684211', '9'],
    ['4572462877712', '457246287771', '2'],
    ['000761555343', '00076155534', '3'],
    ['000010589067', '00001058906', '7'],
    ['68647', '6864', '7'],
    ['2340989126', '234098912', '6'],
    ['9428', '942', '8'],
    ['30350076177', '3035007617', '7'],
    ['7818586135', '781858613', '5'],
    ['2497904928', '249790492', '8'],
  ];

  const invalid = [
    '7476337',
  ];
  // }}}

  common.testAlgo(algo, valid, invalid);
});

// vim: fdm=marker fmr&
